<!DOCTYPE html>
<html lang="ja">

<head>
    <meta charset="UTF-8"/>
    <title>YUI公式サイト｜体験版プレイ中</title>
    <link rel="stylesheet" href="stylesheet2.css">
    <link rel="stylesheet" href="stylesheet_chat.css">
    <link rel="icon" type="image/png" href="YUI-icon.png">
    <script src="jquery.js"></script>
    <script src="bootstrap.js"></script>
</head>

<body>
<div class="main">
<div style="background: rgb(131, 189, 255); color: rgb(68, 99, 134);"><h1>YUI APP体験版</h1><p>製品版は無料です</p></div>

<img src="YUI-charactor.png" alt="" width="15%" style="position: absolute;">

<div id="filed-group">
<!--画面-->
<div id="field">
    <ul id="chat-ul"></ul>
</div>

<script>
//ロボットの返答内容
const chat = [
    'Hello ! Welcome to AI chat !',
    'What is your name ?',
    'How are you today ?',
    [['Alright !'], ['Oh really!'], ['Ok!']]//ランダムな返答
];

//ロボットの返信の合計回数（最初は0）
//これを利用して、自分が送信ボタンを押したときの相手の返答を配列から指定する
let chatCount = 0;

//画面への出力をする関数（valはメッセージ内容，personは誰が話しているか）
function output(val, person) {
    //中略
    if(person === 'robot'){
        //中略
        chatCount++;
    }
}

//自分がテキストを入力し、ボタンを押したときの関数
function btnFunc() {
    //中略
    output(inputText.value, 'me');
    //中略

    //ロボットの送信の合計回数に応じて次の返信を指定
    switch(chatCount) {
        //もしロボットのトーク数が2個の時に送信ボタンが押されたら、
        //自分の名前を含んだメッセージと、chat配列の2（3個目）が返信
        case 2:
            output('Hi, ' + inputText.value + ' !', 'robot');
            setTimeout( ()=> {
                output(chat[2], 'robot');
            }, 2000);
            break;

        //もしロボットのトーク数が4個の時に送信ボタンが押されたら、
        //chat配列の3（4個目）のランダム番目が返信
        case 4:
            output(chat[3][Math.floor(Math.random() * chat[3].length)], 'other');
            break;
    }
}

//最初にロボットから話しかけられる
output(chat[0], 'robot');
setTimeout( ()=> {
    output(chat[1], 'robot');
}, 2000);
</script>

<!--入力場所，送信ボタン-->
<div id="input-field">
    <input type="text" id="chat-input">
    <input type="button" value="送信" id="chat-button" onclick="btnFunc()">
</div>
</div>

</div>
<a href="javascript:history.back();" style="margin-left: 45%;">前のサイトに戻る</a>

<div class="footer">
    <div class="footer-logo">Footer</div>
    <div class="footer-list">
      <ul>
        <li><a href="catch-copy.html" class="button">志</a></li>
        <li><a href="catch-copy.html" class="button">対話による勇気づけで人々を幸せに</a></li>
        <li><a href="credo.html" class="button">クレド</a></li>
        <li><a href="history.html" class="button">歴史</a></li>
        <li><a href="project-member.html" class="button">Projectメンバー</a></li>
        <li><a href="contact-us.html" class="button">お問い合わせ</a></li>
        <li><a href="materials-used.html" class="button">使用した素材</a></li>
      </ul>
      <a href="project-member.html" class="copy-right">© Project YUI</a>
    </div>
  </div>
</body>

</html>